<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <input id="in1" type="text">
    <button onclick="add()">Add Todo</button>
    <ul id="todo-list">
        <!-- <li>Hello</li><button>bye</button> -->

    </ul>
    <script>
        var todos=[];
        if(window.localStorage.getItem("todos",JSON.stringify(todos))){
            let gt = window.localStorage.getItem("todos")
            todos = JSON.parse(gt)
            genUI();
        }
        function add(){
            var input = document.getElementById("in1").value;
            todos.push(input);
            console.log(window.localStorage.setItem("todos",JSON.stringify(todos)))
            genUI();
        }
        function genUI(){
            var listitems = document.getElementById("todo-list");
            listitems.innerHTML="";
            todos.forEach((item)=>{
                var li= document.createElement("li");
                li.innerText=item;

                var de = document.createElement("button");
                de.innerText="Delete";

                listitems.appendChild(li);
                listitems.appendChild(de);

                    de.addEventListener("click",()=>{
                    var index = todos.indexOf(item);
                    todos.pop(index);
                    window.localStorage.setItem("todos",JSON.stringify(todos))
                    genUI()
                })
            })
        }
        
        
    </script>
</body>
</html>